<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>wiki/CHAINING.md</title>
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/github.css">
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/github1.css">
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/github2.css">
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/github3.css">
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/github4.css">
<link type="text/css" rel="stylesheet" media="screen" href="gfm_res/highlight.css">
</head>
<body>
<div id="content">
<div id="readme" class="announce instapaper_body md">
<span class="name">
<span class="mini-icon mini-icon-readme"></span>
wiki/CHAINING.md
</span>
<article class="markdown-body">
<h1 id="chaining">Chaining</h1>
<h2 id="methods">Methods</h2>
<ul>
<li><a href="#chain">chain</a></li>
<li><a href="#then">then</a></li>
<li><a href="#value">value</a></li>
</ul>
<h3 id="chain">chain</h3>
<ul>
<li>alias: <code>Any::chain</code></li>
</ul>
<p>Iterate over a list of elements, yielding each in turn to an $callable function</p>
<ul>
<li><a href="http://underscorejs.org/#each" target="_blank">see also</a>.</li>
</ul>
<h6 id="parameters">Parameters</h6>
<ul>
<li><code>{mixed} $value</code> - manipulation target</li>
</ul>
<h6 id="syntax">Syntax</h6>
<pre><code class="language-php">{Set}::chain(<span class="variable">$target</span>): Chain</code></pre>
<h6 id="example-1">Example #1</h6>
<pre><code class="language-php"><span class="preprocessor">&lt;?php</span>
<span class="keyword">use</span> Dsheiko\Extras\Chain;

<span class="comment">// Chain of calls</span>
<span class="variable">$res</span> = Chain::chain([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// same as Arrays::chain([1, 2, 3])</span>
    -&gt;map(function(<span class="variable">$num</span>){ <span class="keyword">return</span> <span class="variable">$num</span> + <span class="number">1</span>; })
    -&gt;filter(function(<span class="variable">$num</span>){ <span class="keyword">return</span> <span class="variable">$num</span> &gt; <span class="number">1</span>; })
    -&gt;reduce(function(<span class="variable">$carry</span>, <span class="variable">$num</span>){ <span class="keyword">return</span> <span class="variable">$carry</span> + <span class="variable">$num</span>; }, <span class="number">0</span>)
    -&gt;value(); <span class="comment">// 9</span></code></pre>
<h6 id="example-2">Example #2</h6>
<pre><code class="language-php"><span class="preprocessor">&lt;?php</span>
<span class="keyword">use</span> Dsheiko\Extras\Chain;

<span class="class"><span class="keyword">class</span> <span class="title">MapObject</span>
{</span>
    <span class="keyword">public</span> <span class="variable">$foo</span> = <span class="string">"FOO"</span>;
    <span class="keyword">public</span> <span class="variable">$bar</span> = <span class="string">"BAR"</span>;
}

<span class="variable">$res</span> = Chain::chain(<span class="keyword">new</span> MapObject)
  -&gt;keys()
  -&gt;value(); <span class="comment">// ["foo", "bar"]</span></code></pre>
<h3 id="then">then</h3>
<p>Binds a then (transformer) function to the chain</p>
<h6 id="parameters">Parameters</h6>
<ul>
<li><code>{callable} $callable</code> - then function</li>
</ul>
<h6 id="syntax">Syntax</h6>
<pre><code class="language-php">{Set}::then(<span class="variable">$function</span>): Chain</code></pre>
<h6 id="example">Example</h6>
<pre><code class="language-php"><span class="preprocessor">&lt;?php</span>
<span class="keyword">use</span> Dsheiko\Extras\Chain;

<span class="variable">$res</span> = Chain::chain(<span class="keyword">new</span> \ArrayObject([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))
        <span class="comment">// same as Collections::chain(new \ArrayObject([1,2,3])</span>
        -&gt;toArray()
        -&gt;then(<span class="string">"json_encode"</span>)
        -&gt;value(); <span class="comment">// "[1,2,3]"</span></code></pre>
<h3 id="tap">tap</h3>
<p>Underscore syntax for <a href="#then">then</a></p>
<h6 id="parameters">Parameters</h6>
<ul>
<li><code>{callable} $callable</code> - then function</li>
</ul>
<h6 id="syntax">Syntax</h6>
<pre><code class="language-php">{Set}::tap(<span class="variable">$function</span>): Chain</code></pre>
<h3 id="value">value</h3>
<p>Extracts the value of a wrapped object.</p>
<p>#</p>
<h6 id="syntax">Syntax</h6>
<pre><code class="language-php"><span class="variable">$chain</span>::value()</code></pre>
</article>
</div>
</div>
</body></html>